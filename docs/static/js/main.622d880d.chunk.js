(this["webpackJsonpts-polymorphism"]=this["webpackJsonpts-polymorphism"]||[]).push([[0],{19:function(t,n,e){t.exports=e.p+"static/media/logo.d017bff3.webp"},21:function(t,n,e){t.exports=e(29)},26:function(t,n,e){},29:function(t,n,e){"use strict";e.r(n);var r=e(0),i=e.n(r),a=e(14),u=e.n(a),s=(e(26),e(20)),o=e(3),c=e(4);function l(){var t=Object(o.a)(["\n  border-radius: 8px;\n  touch-action: none;\n  width: 100%;\n  height: 100%;\n"]);return l=function(){return t},t}function h(){var t=Object(o.a)(["\n  flex: 1;\n  padding: 30px;\n  min-height: 0;\n"]);return h=function(){return t},t}var v=c.a.div(h()),f=c.a.canvas(l());function y(t){return i.a.createElement(v,null,i.a.createElement(f,{id:t.id}))}var d=e(1),b=e(2),x=e(18),g=e.n(x),m=e(9),k=function(){function t(n,e){Object(d.a)(this,t),this.x=n,this.y=e}return Object(b.a)(t,[{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var n=this.x-t.x,e=this.y-t.y;return n*n+e*e}},{key:"divide",value:function(t){return 0===t.x||0===t.y?(m.warn("Division by zero"),this):(this.x/=t.x,this.y/=t.y,this)}},{key:"divideScalar",value:function(t){return 0===t?(m.warn("Division by zero"),this):this.multiplyScalar(1/t)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"length",value:function(){return Math.sqrt(this.lengthSq())}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"negate",value:function(){return this.multiplyScalar(-1)}},{key:"normalize",value:function(){return 0===this.length()?(m.warn("Zero Vector"),this):this.divideScalar(this.length())}},{key:"rotateAround",value:function(t,n){var e=Math.cos(n),r=Math.sin(n),i=this.x-t.x,a=this.y-t.y;return this.x=i*e-a*r+t.x,this.y=i*r+a*e+t.y,this}},{key:"set",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}}],[{key:"zeroVector",value:function(){return new t(0,0)}},{key:"fromScalar",value:function(n){return new t(n,n)}},{key:"angleBetween",value:function(t,n){var e=t.angle()-n.angle();return e>Math.PI?e-=2*Math.PI:e<=-Math.PI&&(e+=2*Math.PI),e}},{key:"isLeft",value:function(n,e,r){var i=new t(e.y,-e.x);return r.clone().sub(n).dot(i)<0}}]),t}(),p=e(5),w=e(6),j=function(){function t(){Object(d.a)(this,t),this.name=void 0}return Object(b.a)(t,[{key:"onTap",value:function(t,n){}},{key:"onDragStart",value:function(t,n){}},{key:"onDragMove",value:function(t,n,e){}},{key:"onDragEnd",value:function(t,n){}},{key:"onHoverMove",value:function(t,n,e){}}]),t}(),O={background:"rgb(221, 223, 228)",red:"rgb(210, 114, 119)",yellow:"rgb(224, 192, 132)",green:"rgb(161, 193, 129)",black:"rgb(41, 44, 51)"},E=function(t){Object(w.a)(e,t);var n=Object(p.a)(e);function e(){var t;Object(d.a)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))).name="Path Brush",t.currentLine=[],t}return Object(b.a)(e,[{key:"onDragMove",value:function(t,n,e){this.currentLine.push(n),t.drawPath(this.currentLine,15,O.black)}},{key:"onDragEnd",value:function(t,n){this.currentLine=[]}}]),e}(j),S=function(){function t(n,e){var r=this;Object(d.a)(this,t),this.brush=null,this.brush=e||new E,g()(n.canvasElement).on("tap",(function(t){var e;return null===(e=r.brush)||void 0===e?void 0:e.onTap(n,r.eventToPos(t))})).draggable({onstart:function(t){var e;return null===(e=r.brush)||void 0===e?void 0:e.onDragStart(n,r.eventToPos(t))},onmove:function(t){var e;return null===(e=r.brush)||void 0===e?void 0:e.onDragMove(n,r.eventToPos(t),r.eventToDelta(t))},onend:function(t){var e;return null===(e=r.brush)||void 0===e?void 0:e.onDragEnd(n,r.eventToPos(t))},cursorChecker:function(){return"crosshair"}})}return Object(b.a)(t,[{key:"setBrush",value:function(t){this.brush=t}},{key:"eventToPos",value:function(t){return new k(t.clientX,t.clientY)}},{key:"eventToDelta",value:function(t){return new k(t.dx,t.dy)}}]),t}(),B=function(){function t(n){var e,r=this;Object(d.a)(this,t),this._canvasElement=void 0,this.ctx=void 0,this.size=k.zeroVector(),this.dpr=window.devicePixelRatio||1,this._canvasElement=document.getElementById(n);var i=null===(e=this._canvasElement)||void 0===e?void 0:e.getContext("2d");if(!i)throw new Error("Canvas element does not exist");this.ctx=i,window.addEventListener("resize",(function(){return r.resizeCanvas()}),!0),this.resizeCanvas()}return Object(b.a)(t,[{key:"resizeCanvas",value:function(){var t=this._canvasElement.getBoundingClientRect();this._canvasElement.width=this.size.x=t.width*this.dpr,this._canvasElement.height=this.size.y=t.height*this.dpr,this.fillBackground()}},{key:"fillBackground",value:function(){this.ctx.fillStyle=O.background,this.ctx.fillRect(0,0,this.size.x,this.size.y)}},{key:"fillRect",value:function(t,n,e,r){this.ctx.fillStyle=r;var i=this.screenToCanvas(t);this.ctx.fillRect(i.x,i.y,n,e)}},{key:"fillRectCentred",value:function(t,n,e){this.ctx.fillStyle=O.red;var r=this.screenToCanvas(t);this.ctx.fillRect(r.x-n/2,r.y-e/2,n,e)}},{key:"drawPath",value:function(t,n,e){var r=this,i=t.map((function(t){return r.screenToCanvas(t)}));this.ctx.strokeStyle=e,this.ctx.lineWidth=n,this.ctx.beginPath(),this.ctx.moveTo(i[0].x,i[0].y);for(var a=1;a<i.length;a++)this.ctx.lineTo(i[a].x,i[a].y);this.ctx.stroke()}},{key:"fillCircle",value:function(t,n,e){var r=this.screenToCanvas(t);this.ctx.fillStyle=e,this.ctx.beginPath(),this.ctx.arc(r.x,r.y,n,0,2*Math.PI),this.ctx.fill()}},{key:"drawImage",value:function(t,n){var e=this.screenToCanvas(n);t.width;this.ctx.drawImage(t,e.x-t.width/2,e.y-t.height/2)}},{key:"screenToCanvas",value:function(t){var n=this._canvasElement.getBoundingClientRect();return new k(t.x-n.left,t.y-n.top).multiplyScalar(this.dpr)}},{key:"canvasElement",get:function(){return this._canvasElement}}]),t}();function T(){var t=Object(o.a)(["\n  display: inline-block;\n  border: none;\n  padding: 1rem 2rem;\n  margin: 30px 5px 0;\n  border-radius: 5px;\n  text-decoration: none;\n  background: #0069ed;\n  color: #ffffff;\n  font-family: sans-serif;\n  font-size: 1rem;\n  cursor: pointer;\n  text-align: center;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  :hover,\n  :focus {\n    background: #0053ba;\n  }\n\n  :focus {\n    outline: 1px solid #fff;\n    outline-offset: -4px;\n  }\n\n  :active {\n    transform: scale(0.99);\n  }\n"]);return T=function(){return t},t}var C=c.a.button(T());function D(t){var n=t.brush.name;return i.a.createElement(C,{onClick:function(){return t.setBrush(t.brush)}},n)}var z=e(7),P=e(12),M=function(t){Object(w.a)(e,t);var n=Object(p.a)(e);function e(){var t;Object(d.a)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))).name="Capped Path Brush",t}return Object(b.a)(e,[{key:"onDragStart",value:function(t,n){Object(P.a)(Object(z.a)(e.prototype),"onDragStart",this).call(this,t,n),t.fillCircle(n,20,O.black)}},{key:"onDragEnd",value:function(t,n){Object(P.a)(Object(z.a)(e.prototype),"onDragEnd",this).call(this,t,n),t.fillCircle(n,30,O.yellow)}}]),e}(E),L=function(t){Object(w.a)(e,t);var n=Object(p.a)(e);function e(){var t;Object(d.a)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))).name="Dot Brush",t.currentLine=[],t}return Object(b.a)(e,[{key:"onDragStart",value:function(t,n){this.currentLine.push(n)}},{key:"onDragMove",value:function(t,n,e){this.currentLine[this.currentLine.length-1].distanceTo(n)>30&&(this.currentLine.push(n),t.fillCircle(n,20,O.red))}},{key:"onDragEnd",value:function(t,n){this.currentLine=[]}}]),e}(j),I=e(19),R=e.n(I),_=function(t){Object(w.a)(e,t);var n=Object(p.a)(e);function e(){var t;Object(d.a)(this,e),(t=n.call(this)).name="Stamp Brush",t.img=void 0;var r=new Image;return r.onload=function(){return t.img=r},r.src=R.a,t}return Object(b.a)(e,[{key:"onTap",value:function(t,n){this.img&&t.drawImage(this.img,n)}}]),e}(j);function q(){var t=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n"]);return q=function(){return t},t}var A=c.a.div(q());function V(t){return i.a.createElement(A,null,i.a.createElement(D,{brush:new E,setBrush:t.setBrush}),i.a.createElement(D,{brush:new M,setBrush:t.setBrush}),i.a.createElement(D,{brush:new L,setBrush:t.setBrush}),i.a.createElement(D,{brush:new _,setBrush:t.setBrush}))}function J(){var t=Object(o.a)(["\n  background-color: rgb(41, 44, 51);\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return J=function(){return t},t}var X=c.a.div(J());var Y=function(){var t=Object(r.useState)(),n=Object(s.a)(t,2),e=n[0],a=n[1];return Object(r.useEffect)((function(){var t=new B("paint-canvas");a(new S(t))}),[]),i.a.createElement(X,null,i.a.createElement(V,{setBrush:function(t){return null===e||void 0===e?void 0:e.setBrush(t)}}),i.a.createElement(y,{id:"paint-canvas"}))};u.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Y,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.622d880d.chunk.js.map